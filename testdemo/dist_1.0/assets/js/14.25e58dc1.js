(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{481:function(e,t,a){"use strict";a.r(t);var n=a(61),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[e._v("#")]),e._v(" 环境变量")]),e._v(" "),a("h2",{attrs:{id:"设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[e._v("#")]),e._v(" 设置")]),e._v(" "),a("p",[e._v("gocore 支持使用应用默认下的隐藏文件 "),a("code",[e._v(".env")]),e._v(" 来配置各个机器不同的环境变量。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("APP_ENV=development\n\nDB_PASSWORD=mypassword\n")])])]),a("p",[e._v("环境变量的设置可以在配置文件中通过 "),a("code",[e._v("env([环境变量])")]),e._v(" 来获取到。")]),e._v(" "),a("p",[e._v("比如：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mysql:\n    hostname: 127.0.0.1\n    username: yejianfeng\n    password:  env(DB_PASSWORD)\n    timeout: 1\n    readtime: 2.3\n")])])]),a("h2",{attrs:{id:"应用环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用环境"}},[e._v("#")]),e._v(" 应用环境")]),e._v(" "),a("p",[e._v("gocore 启动应用的默认应用环境为 development。")]),e._v(" "),a("p",[e._v("你可以通过设置 .env 文件中的 APP_ENV 设置应用环境。")]),e._v(" "),a("p",[e._v("应用环境建议选择：")]),e._v(" "),a("ul",[a("li",[e._v("development // 开发使用")]),e._v(" "),a("li",[e._v("production // 线上使用")]),e._v(" "),a("li",[e._v("testing //测试环境")])]),e._v(" "),a("p",[e._v("应用环境对应配置的文件夹，配置服务会去对应应用环境的文件夹中寻找配置。")]),e._v(" "),a("p",[e._v("比如应用环境为 development，在代码中使用")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('configService := container.MustMake(contract.ConfigKey).(contract.Config)\nurl := configService.GetString("app.url")\n')])])]),a("p",[e._v("查找文件为："),a("code",[e._v("config/development/app.yaml")])]),e._v(" "),a("p",[e._v("通过命令"),a("code",[e._v("./testdemo env")]),e._v("也可以获取当前应用环境：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[~/Documents/workspace/gocore_workspace]$ ./testdemo env\nenvironment: development\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);